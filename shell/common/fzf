#!/usr/bin/zsh

export FZF_DEFAULT_COMMAND="fd --type file --follow --hidden --exclude .git"

FZF_TOKYONIGHT="\
  --color=bg:#000000 \
  --color=bg+:#16161e  \
  --color=border:#27a1b9 \
  --color=fg:#d4d4d4 \
  --color=gutter:#16161e \
  --color=header:#434a65 \
  --color=hl+:#7dcfff \
  --color=hl:#7dcfff \
  --color=info:#545c7e \
  --color=marker:#545c7e \
  --color=pointer:#545c7e \
  --color=prompt:#a9b7e8 \
  --color=query:#a9b7e8 \
  --color=scrollbar:#27a1b9 \
  --color=separator:#292e42 \
  --color=spinner:#ff007c \
"

FZF_NEVERMORE="\
  --color=bg:#1b1b1b \
  --color=bg+:#121212 \
  --color=border:#555555 \
  --color=fg:#777777 \
  --color=gutter:#121212 \
  --color=header:#555555 \
  --color=hl:#7aa2f7 \
  --color=hl+:#7aa2f7 \
  --color=info:#555555 \
  --color=marker:#009966 \
  --color=pointer:#222222 \
  --color=prompt:#aaaaaa \
  --color=query:#aaaaaa \
  --color=scrollbar:#555555 \
  --color=separator:#555555 \
  --color=spinner:#9d7cd8 \
"

FZF_VSCODE="\
  --color=bg:#18191A \
  --color=bg+:#1F1F1F \
  --color=border:#444444 \
  --color=fg:#808080 \
  --color=gutter:#18191A \
  --color=header:#636369 \
  --color=hl:#4ec9b0 \
  --color=hl+:#4ec9b0 \
  --color=info:#636369 \
  --color=marker:#81b88b \
  --color=pointer:#569CD6 \
  --color=prompt:#D4D4D4 \
  --color=query:#D4D4D4 \
  --color=scrollbar:#424242 \
  --color=separator:#444444 \
  --color=spinner:#C586C0 \
"

FZF_THEME="FZF_$(echo "$THEME" | tr "[:lower:]" "[:upper:]")"

if [ -n "$ZSH_VERSION" ]; then
  zstyle ':fzf-tab:*' use-fzf-default-opts yes

  history_file="$HOME/.fzf_history"
else
  history_file="$HOME/.bash_history"
fi

export FZF_DEFAULT_OPTS="$FZF_DEFAULT_OPTS \
  --ignore-case
  --bind ctrl-n:down,ctrl-p:up,ctrl-d:page-down,ctrl-u:page-up,ctrl-e:accept,ctrl-k:next-history,ctrl-j:prev-history \
  --highlight-line \
  --no-bold \
  --info=inline-right \
  --ansi \
  --cycle \
  --layout=reverse \
  --border=none \
  --no-separator \
  --history=$history_file \
  $(eval echo \$"$FZF_THEME")
"

FZF_TAB_TOKYONIGHT="--color=fg:#c0caf5,bg:#16161e,fg+:#c0caf5,bg+:#343a55"
FZF_TAB_NEVERMORE="--color=fg:#999999,bg:#000000,fg+:#999999,bg+:#121212"
FZF_TAB_VSCODE="--color=fg:#808080,bg:#121314,fg+:#D4D4D4,bg+:#1F1F1F"

FZF_TAB_THEME="FZF_$(echo "$THEME" | tr "[:lower:]" "[:upper:]")"
zstyle ":fzf-tab:*" fzf-flags $(eval echo \$"$FZF_TAB_THEME")
